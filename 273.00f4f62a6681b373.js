"use strict";(self.webpackChunkfront_simple=self.webpackChunkfront_simple||[]).push([[273],{6447:(E,g,l)=>{l.d(g,{H:()=>t});var t=function(n){return n.DIGIITALART="digitalart",n.PAINTING="painting",n.SCULPTURE="sculpture",n.INSTALLATION="installation",n.MIXEDMEDIA="mixedmedia",n.DRAWING="drawing",n.PHOTOGRAPH="photograph",n.PERFORMANCE="performance",n.COLLAGE="collage",n.VIDEOART="videoart",n.CREATIVECODE="creativecode",n.POETRY="poetry",n.VIDEODANCE="videodance",n}(t||{})},5273:(E,g,l)=>{l.r(g),l.d(g,{default:()=>_});var t=l(4438),d=l(177),n=l(33),m=l(7673),f=l(7468),r=l(9437),e=l(980),i=l(3373),v=l(3841),o=l(1774),D=l(5794);function a(c,y){1&c&&t.nrm(0,"span",19)}function p(c,y){if(1&c){const s=t.RV6();t.j41(0,"div",18)(1,"div",20)(2,"div",21)(3,"div",22)(4,"h5",23),t.EFF(5,"Curator Panel"),t.k0s()(),t.j41(6,"div",24)(7,"p"),t.EFF(8,"Create and manage curated selections from the Kwalhia community."),t.k0s(),t.j41(9,"button",25),t.bIt("click",function(){t.eBV(s);const u=t.XpG(2);return t.Njj(u.navigateTo("curations"))}),t.EFF(10," Manage Curations "),t.k0s()()()()()}}function F(c,y){if(1&c){const s=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),t.nrm(4,"i",6),t.j41(5,"h5",7),t.EFF(6,"My Artworks"),t.k0s(),t.j41(7,"p",8),t.EFF(8,"Upload and manage your artwork portfolio"),t.k0s(),t.j41(9,"button",9),t.bIt("click",function(){t.eBV(s);const u=t.XpG();return t.Njj(u.navigateTo("artworks"))}),t.EFF(10," Manage Artworks "),t.k0s()(),t.j41(11,"div",10)(12,"small",11),t.EFF(13),t.k0s()()()(),t.j41(14,"div",3)(15,"div",4)(16,"div",5),t.nrm(17,"i",12),t.j41(18,"h5",7),t.EFF(19,"Series Collections"),t.k0s(),t.j41(20,"p",8),t.EFF(21,"Organize your works into thematic series"),t.k0s(),t.j41(22,"button",9),t.bIt("click",function(){t.eBV(s);const u=t.XpG();return t.Njj(u.navigateTo("series"))}),t.EFF(23," Manage Series "),t.k0s()(),t.j41(24,"div",10)(25,"small",11),t.EFF(26),t.k0s()()()(),t.j41(27,"div",3)(28,"div",4)(29,"div",5),t.nrm(30,"i",13),t.j41(31,"h5",7),t.EFF(32,"Gallery Settings"),t.k0s(),t.j41(33,"p",8),t.EFF(34,"Customize how your gallery appears to visitors"),t.k0s(),t.j41(35,"button",9),t.bIt("click",function(){t.eBV(s);const u=t.XpG();return t.Njj(u.navigateTo("gallery"))}),t.EFF(36," Edit Gallery "),t.k0s()(),t.j41(37,"div",10)(38,"small",11),t.EFF(39),t.k0s()()()()(),t.j41(40,"div",2)(41,"div",3)(42,"div",4)(43,"div",5),t.nrm(44,"i",14),t.j41(45,"h5",7),t.EFF(46,"VR Gallery"),t.k0s(),t.j41(47,"p",8),t.EFF(48,"Configure VR gallery settings and manage textures"),t.k0s(),t.j41(49,"button",9),t.bIt("click",function(){t.eBV(s);const u=t.XpG();return t.Njj(u.navigateTo("vrGallery"))}),t.EFF(50," Manage VR Gallery "),t.k0s()(),t.j41(51,"div",10)(52,"small",11),t.EFF(53,"Create immersive 3D exhibitions"),t.k0s()()()(),t.j41(54,"div",3)(55,"div",4)(56,"div",5),t.nrm(57,"i",15),t.j41(58,"h5",7),t.EFF(59,"Publish Website"),t.k0s(),t.j41(60,"p",8),t.EFF(61,"Make your changes live for visitors to see"),t.k0s(),t.j41(62,"button",16),t.bIt("click",function(){t.eBV(s);const u=t.XpG();return t.Njj(u.publishSite())}),t.DNE(63,a,1,0,"span",17),t.EFF(64," Publish Site "),t.k0s()(),t.j41(65,"div",10)(66,"small",11),t.EFF(67,"Post to the internet!"),t.k0s()()()()(),t.DNE(68,p,11,0,"div",18)}if(2&c){const s=t.XpG();t.R7$(13),t.SpI("",s.artworkCount()," artworks uploaded"),t.R7$(13),t.SpI("",s.seriesCount()," active series"),t.R7$(13),t.SpI("Last updated: ",s.lastGalleryUpdate(),""),t.R7$(23),t.Y8G("disabled",s.publishing()),t.R7$(),t.Y8G("ngIf",s.publishing()),t.R7$(5),t.vxM(68,s.isCurator()?68:-1)}}let _=(()=>{class c{constructor(){this.router=(0,t.WQX)(n.Ix),this.artistService=(0,t.WQX)(i.gA),this.artworkService=(0,t.WQX)(i.UN),this.seriesService=(0,t.WQX)(i.xB),this.galleryService=(0,t.WQX)(i.AF),this.store=(0,t.WQX)(v.P),this.toastr=(0,t.WQX)(D.tw),this.profileData=(0,t.vPA)(null),this.profileExists=(0,t.vPA)(!1),this.artworkCount=(0,t.vPA)(0),this.seriesCount=(0,t.vPA)(0),this.isCurator=(0,t.vPA)(!1),this.lastGalleryUpdate=(0,t.vPA)("Never"),this.loading=(0,t.vPA)(!1),this.publishing=(0,t.vPA)(!1)}ngOnInit(){this.loadAllData()}loadAllData(){this.loading.set(!0),this.artistService.getMyProfile().pipe((0,r.W)(()=>(this.profileExists.set(!1),this.loading.set(!1),(0,m.of)(null)))).subscribe(s=>{s?(this.profileData.set(s),this.profileExists.set(!0),this.isCurator.set(s.isCurator),this.store.setArtistProfile(s),this.store.setArtistProfileForm({displayName:s.displayName,bio:s.bio,website:s.website,instagram:s.instagram,twitter:s.twitter}),this.fetchAdditionalData()):this.loading.set(!1)})}fetchAdditionalData(){(0,f.p)({series:this.seriesService.getMySeries({page:1,limit:50}).pipe((0,r.W)(()=>(0,m.of)({data:[]}))),artworks:this.artworkService.getMyArtworks({page:1,limit:100}).pipe((0,r.W)(()=>(0,m.of)({data:[]}))),gallery:this.galleryService.getMyGallery().pipe((0,r.W)(()=>(0,m.of)(null)))}).pipe((0,e.j)(()=>this.loading.set(!1))).subscribe({next:s=>{if(s.series?.data){const h=s.series.data.map(u=>({...u,artworks:s.artworks.data.filter(P=>P.seriesId===u.id)}));this.store.series.set(h),this.seriesCount.set(s.series.data.length)}s.artworks?.data&&(this.store.artworks.set(s.artworks.data),this.artworkCount.set(s.artworks.data.length)),s.gallery&&(this.store.setGallery(s.gallery),this.store.setGalleryForm({bgImage:s.gallery.bgImage,bgRepeat:s.gallery.bgRepeat,bgColor:s.gallery.bgColor,containerColor:s.gallery.containerColor,textColor:s.gallery.textColor,accentColor:s.gallery.accentColor,fontFamily:s.gallery.fontFamily}),s.gallery.updatedAt&&this.lastGalleryUpdate.set(new Date(s.gallery.updatedAt).toLocaleDateString()))},error:s=>{console.error("Error fetching additional data:",s)}})}createProfile(){this.router.navigate(["/"+o.S.KWH+"/new/profileConfig"])}editProfile(){this.getArtistName(),this.router.navigate(["/"+o.S.KWH+"/${artistName}/profileConfig"])}navigateTo(s){const h=this.getArtistName(),P={artworks:"artworksConfig",series:"seriesConfig",gallery:"galleryConfig",curations:"curations",vrGallery:"vrGallery"}[s];P&&this.router.navigate(["/"+o.S.KWH+`/${h}/${P}`])}getArtistName(){return this.profileData()?.displayName?.toLowerCase().replace(/\s+/g,"-")||""}publishSite(){if(!this.profileData())return;this.publishing.set(!0);const s=this.profileData().id;this.artistService.publishArtistSite(s).pipe((0,e.j)(()=>this.publishing.set(!1))).subscribe({next:h=>{this.toastr.success(h.message||"Site published successfully")},error:h=>{console.error("Failed to publish site:",h),this.toastr.error("Failed to publish site. Please try again.")}})}static{this.\u0275fac=function(h){return new(h||c)}}static{this.\u0275cmp=t.VBU({type:c,selectors:[["app-kwalhia-dashboard"]],standalone:!0,features:[t.aNF],decls:4,vars:1,consts:[[1,"container","my-5",2,"padding","0 10vw"],[1,"display-5"],[1,"row","mb-4"],[1,"col-md-4","mb-3"],[1,"card","h-100"],[1,"card-body","text-center"],[1,"fas","fa-images","fa-3x","mb-3","text-primary"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-outline-primary",3,"click"],[1,"card-footer","bg-transparent"],[1,"text-muted"],[1,"fas","fa-layer-group","fa-3x","mb-3","text-primary"],[1,"fas","fa-palette","fa-3x","mb-3","text-primary"],[1,"fas","fa-vr-cardboard","fa-3x","mb-3","text-primary"],[1,"fas","fa-globe","fa-3x","mb-3","text-success"],[1,"btn","btn-success",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1","role","status","aria-hidden","true",4,"ngIf"],[1,"row","mb-3"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],[1,"col-md-12"],[1,"card","border-info"],[1,"card-header","bg-info","text-white"],[1,"mb-0"],[1,"card-body"],[1,"btn","btn-info",3,"click"]],template:function(h,u){1&h&&(t.j41(0,"div",0)(1,"h1",1),t.EFF(2,"Artist Managment"),t.k0s(),t.DNE(3,F,69,6),t.k0s()),2&h&&(t.R7$(3),t.vxM(3,u.profileExists()?3:-1))},dependencies:[d.MD,d.bT],encapsulation:2})}}return c})()},2010:(E,g,l)=>{l.d(g,{v:()=>m});var t=l(5312),d=l(4438),n=l(1626);let m=(()=>{class f{constructor(e){this.http=e,this.apiUrl=t.c.apiUrl}findAll(e){return this.http.get(`${this.apiUrl}/${this.endpoint}`,{params:{...e}})}findOne(e){return this.http.get(`${this.apiUrl}/${this.endpoint}/${e}`)}create(e){return this.http.post(`${this.apiUrl}/${this.endpoint}`,e)}update(e,i){return this.http.patch(`${this.apiUrl}/${this.endpoint}/${e}`,i)}remove(e){return this.http.delete(`${this.apiUrl}/${this.endpoint}/${e}`)}static{this.\u0275fac=function(i){return new(i||f)(d.KVO(n.Qq))}}static{this.\u0275prov=d.jDH({token:f,factory:f.\u0275fac})}}return f})()},2249:(E,g,l)=>{l.d(g,{f:()=>m});var t=l(2010),d=l(4438),n=l(1626);let m=(()=>{class f extends t.v{constructor(e){super(e),this.http=e,this.endpoint="hydra-scripts"}getMyScripts(e){return this.http.get(`${this.apiUrl}/${this.endpoint}/my-scripts`,{params:{...e}})}getHydraScript(e){return this.http.get(`${this.apiUrl}/${this.endpoint}/${e}`)}static{this.\u0275fac=function(i){return new(i||f)(d.KVO(n.Qq))}}static{this.\u0275prov=d.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},3373:(E,g,l)=>{l.d(g,{gA:()=>m,vA:()=>t.v,AF:()=>e,fC:()=>v.f,UN:()=>f,xB:()=>r,RV:()=>i});var t=l(2010),d=l(4438),n=l(1626);let m=(()=>{class o extends t.v{constructor(a){super(a),this.http=a,this.endpoint="artist-profiles"}getMyProfile(){return this.http.get(`${this.apiUrl}/${this.endpoint}/my-profile`)}publishArtistSite(a){return this.http.post(`${this.apiUrl}/${this.endpoint}/${a}/publish`,{})}static{this.\u0275fac=function(p){return new(p||o)(d.KVO(n.Qq))}}static{this.\u0275prov=d.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),f=(()=>{class o extends t.v{constructor(a){super(a),this.http=a,this.endpoint="kwalhia-art"}getAllArtworks(a){return this.findAll(a)}getMyArtworks(a){return this.http.get(`${this.apiUrl}/${this.endpoint}/my-artwork`,{params:{...a}})}getArtwork(a){return this.findOne(a)}uploadArtwork(a,p){const F=new FormData;return F.append("file",p),Object.entries(a).forEach(([_,c])=>{null!=c&&F.append(_,c.toString())}),this.http.post(`${this.apiUrl}/${this.endpoint}`,F)}updateArtwork(a,p,F){const _=new FormData;return F&&_.append("file",F),Object.entries(p).forEach(([c,y])=>{null!=y&&_.append(c,y.toString())}),this.http.patch(`${this.apiUrl}/${this.endpoint}/${a}`,_)}uploadWithFormData(a){return this.http.post(`${this.apiUrl}/${this.endpoint}`,a)}deleteArtwork(a){return this.remove(a)}create(a){return console.warn("Please use uploadArtwork method instead of create for adding new artwork"),super.create(a)}static{this.\u0275fac=function(p){return new(p||o)(d.KVO(n.Qq))}}static{this.\u0275prov=d.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),r=(()=>{class o extends t.v{constructor(a){super(a),this.http=a,this.endpoint="series"}getMySeries(a){return this.http.get(`${this.apiUrl}/${this.endpoint}/my-series`,{params:{...a}})}static{this.\u0275fac=function(p){return new(p||o)(d.KVO(n.Qq))}}static{this.\u0275prov=d.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),e=(()=>{class o extends t.v{constructor(a){super(a),this.http=a,this.endpoint="galleries"}getMyGallery(){return this.http.get(`${this.apiUrl}/${this.endpoint}/my-gallery`)}static{this.\u0275fac=function(p){return new(p||o)(d.KVO(n.Qq))}}static{this.\u0275prov=d.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),i=(()=>{class o extends t.v{constructor(a){super(a),this.http=a,this.endpoint="textures"}getTexture(a){return this.http.get(`${this.apiUrl}/${this.endpoint}/${a}`)}getMyTextures(a){return this.http.get(`${this.apiUrl}/${this.endpoint}/my-textures`,{params:{...a}})}getTexturesByType(a,p){return this.http.get(`${this.apiUrl}/${this.endpoint}/type/${a}`,{params:{...p}})}uploadTexture(a,p,F=!1){const _=new FormData;return _.append("file",p),_.append("type",a),_.append("isPublic",F.toString()),this.http.post(`${this.apiUrl}/${this.endpoint}`,_)}static{this.\u0275fac=function(p){return new(p||o)(d.KVO(n.Qq))}}static{this.\u0275prov=d.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var v=l(2249)},3841:(E,g,l)=>{l.d(g,{P:()=>n});var t=l(4438);l(6447);let n=(()=>{class m{constructor(){this.validationTrigger=(0,t.vPA)(null),this.artistProfileForm=(0,t.vPA)(null),this.artistProfile=(0,t.vPA)(null),this.artworkForms=(0,t.vPA)([]),this.artworks=(0,t.vPA)([]),this.galleryForm=(0,t.vPA)(null),this.gallery=(0,t.vPA)(null),this.seriesForms=(0,t.vPA)([]),this.series=(0,t.vPA)([]),this.curatedSelectionForm=(0,t.vPA)(null),this.curatedSelections=(0,t.vPA)([]),this.artworkFiles=(0,t.vPA)(new Map),this.vrConfigs=(0,t.vPA)([]),this.textures=(0,t.vPA)([]),this.hydraScripts=(0,t.vPA)([]),this.threeDObjects=(0,t.vPA)([])}setArtistProfileForm(r){this.artistProfileForm.set(r)}getArtistProfileForm(){return this.artistProfileForm()}setArtistProfile(r){this.artistProfile.set(r)}addArtworkForm(r,e){const i=crypto.randomUUID(),v={...r,_tempId:i};this.artworkForms.update(o=>[...o,v]),this.artworkFiles.update(o=>{const D=new Map(o);return D.set(i,e),D})}getArtworkForms(){return this.artworkForms()}getArtworkFile(r){return this.artworkFiles()?.get(r)}addArtwork(r){this.artworks.update(e=>[...e,r])}setGalleryForm(r){this.galleryForm.set(r)}getGalleryForm(){return this.galleryForm()}setGallery(r){this.gallery.set(r)}addSeriesForm(r){this.seriesForms.set([r])}getSeriesForms(){return this.seriesForms()}addSeries(r){this.series.update(e=>[...e,r])}reset(){this.artistProfileForm.set(null),this.artistProfile.set(null),this.artworkForms.set([]),this.artworks.set([]),this.galleryForm.set(null),this.gallery.set(null),this.seriesForms.set([]),this.series.set([]),this.curatedSelectionForm.set(null),this.curatedSelections.set([]),this.artworkFiles.set(new Map)}removeArtwork(r){this.artworks.update(e=>e.filter(i=>i.id!==r))}removeSeries(r){this.series.update(e=>e.filter(i=>i.id!==r)),this.artworks.update(e=>e.map(i=>i.seriesId===r?{...i,seriesId:void 0,series:void 0}:i))}updateArtwork(r){this.artworks.update(e=>e.map(i=>i.id===r.id?r:i))}removeArtworkForm(r){this.artworkForms.update(e=>e.filter(i=>i._tempId!==r)),this.artworkFiles.update(e=>{const i=new Map(e);return i.delete(r),i})}updateArtworkForm(r,e){this.artworkForms.update(i=>i.map(v=>v._tempId===r?{...e,_tempId:v._tempId}:v))}updateArtworkFile(r,e){this.artworkFiles.update(i=>{const v=new Map(i);return v.set(r,e),v})}addVrConfig(r){this.vrConfigs.update(e=>[...e,r])}updateVrConfig(r){this.vrConfigs.update(e=>e.map(i=>i.id===r.id?r:i))}removeVrConfig(r){this.vrConfigs.update(e=>e.filter(i=>i.id!==r))}addTexture(r){this.textures.update(e=>[...e,r])}updateTexture(r){this.textures.update(e=>e.map(i=>i.id===r.id?r:i))}removeTexture(r){this.textures.update(e=>e.filter(i=>i.id!==r))}addHydraScript(r){this.hydraScripts.update(e=>[...e,r])}updateHydraScript(r){this.hydraScripts.update(e=>e.map(i=>i.id===r.id?r:i))}removeHydraScript(r){this.hydraScripts.update(e=>e.filter(i=>i.id!==r))}addThreeDObject(r){this.threeDObjects.update(e=>[...e,r])}updateThreeDObject(r){this.threeDObjects.update(e=>e.map(i=>i.id===r.id?r:i))}removeThreeDObject(r){this.threeDObjects.update(e=>e.filter(i=>i.id!==r))}static{this.\u0275fac=function(e){return new(e||m)}}static{this.\u0275prov=t.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()}}]);