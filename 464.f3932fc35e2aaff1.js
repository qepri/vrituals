"use strict";(self.webpackChunkfront_simple=self.webpackChunkfront_simple||[]).push([[464],{464:(h,E,a)=>{a.r(E),a.d(E,{default:()=>u});var t=a(4438),i=a(177),n=a(9417),R=a(5823),c=a(5794),T=a(4909);function S(o,I){if(1&o){const s=t.RV6();t.j41(0,"button",38),t.bIt("click",function(){t.eBV(s);const e=t.XpG();return t.Njj(e.nextStep())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&o&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"COMMON.CONTINUE")," "))}function b(o,I){if(1&o&&(t.j41(0,"button",39),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&o){const s=t.XpG();t.Y8G("disabled",!s.chatbotRoleForm.valid),t.R7$(),t.SpI(" ",t.bMT(2,2,"CREATE.BUTTONS.CREATE")," ")}}let u=(()=>{class o{constructor(){this.formBuilder=(0,t.WQX)(n.ok),this.chatbotRoleService=(0,t.WQX)(R.vc),this.toastr=(0,t.WQX)(c.tw),this.chatbotRoleForm=this.formBuilder.group({name:["",[n.k0.required,n.k0.minLength(3),n.k0.maxLength(50)]],description:["",[n.k0.required,n.k0.maxLength(200)]],prompt:["",[n.k0.required,n.k0.minLength(1e3)]],avatarPic:[""],isPublic:[!1]}),this.currentStep=1}onSubmit(){if(this.chatbotRoleForm.valid){const s={...this.chatbotRoleForm.value,isPublic:!1};this.chatbotRoleService.createChatbotRole(s).subscribe({next:r=>{this.toastr.success(`Successfully created ${s.name}`,"Success"),this.chatbotRoleForm.reset()},error:r=>{let e="An unexpected error occurred";400===r.status?e="Invalid input data. Please check your entries.":401===r.status?e="You are not authorized to create chatbot roles.":409===r.status?e="A chatbot role with this name already exists.":0===r.status&&(e="Unable to connect to the server. Please check your internet connection."),r.error?.message&&(e=r.error.message),this.toastr.error(e,"Error"),console.error("Error creating chatbot role:",r)}})}else this.toastr.warning("Please fill in all required fields correctly","Validation Error"),Object.keys(this.chatbotRoleForm.controls).forEach(s=>{const r=this.chatbotRoleForm.get(s);r?.errors&&r.markAsTouched()})}getProgress(){return this.currentStep/3*100}nextStep(){this.currentStep<3&&this.currentStep++}previousStep(){this.currentStep>1&&this.currentStep--}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-chatbot-role-creator"]],standalone:!0,features:[t.aNF],decls:119,vars:89,consts:[["progressBar",""],[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card","shadow-sm"],[1,"card-body"],[1,"text-center","mb-4"],[1,"progress","mb-4",2,"height","3px"],["role","progressbar",1,"progress-bar"],[3,"ngSubmit","formGroup"],[1,"step"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","name",1,"form-control"],[1,"form-text"],["rows","3","formControlName","description",1,"form-control"],[1,"guide-cards","mb-3"],[1,"row","g-3"],[1,"col-md-4"],[1,"card","h-100","guide-card"],[1,"card-title"],[1,"fas","fa-user-circle"],[1,"card-text","text-muted"],[1,"fas","fa-bullseye"],[1,"fas","fa-comments"],["rows","8","formControlName","prompt",1,"form-control",3,"placeholder"],[1,"prompt-helper","mt-3"],[1,"card","bg-light"],[1,"fas","fa-lightbulb"],[1,"mb-0"],[1,"d-flex","justify-content-between","align-items-center","mt-3"],[1,"fas","fa-info-circle"],[1,"character-count","text-muted"],["type","text","formControlName","avatarPic",1,"form-control"],[1,"d-flex","justify-content-between","mt-4"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","submit","class","btn btn-success",3,"disabled",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(r,e){if(1&r){const l=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h2",6),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div",7),t.nrm(9,"div",8,0),t.k0s(),t.j41(11,"form",9),t.bIt("ngSubmit",function(){return t.eBV(l),t.Njj(e.onSubmit())}),t.j41(12,"div",10)(13,"h5",11),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"div",11)(17,"label",12),t.EFF(18),t.nI1(19,"translate"),t.k0s(),t.nrm(20,"input",13),t.j41(21,"div",14),t.EFF(22),t.nI1(23,"translate"),t.k0s()(),t.j41(24,"div",11)(25,"label",12),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.nrm(28,"textarea",15),t.j41(29,"div",14),t.EFF(30),t.nI1(31,"translate"),t.k0s()()(),t.j41(32,"div",10)(33,"h5",11),t.EFF(34),t.nI1(35,"translate"),t.k0s(),t.j41(36,"div",11)(37,"label",12),t.EFF(38),t.nI1(39,"translate"),t.k0s(),t.j41(40,"div",16)(41,"div",17)(42,"div",18)(43,"div",19)(44,"div",5)(45,"h6",20),t.nrm(46,"i",21),t.EFF(47),t.nI1(48,"translate"),t.k0s(),t.j41(49,"p",22),t.EFF(50),t.nI1(51,"translate"),t.k0s()()()(),t.j41(52,"div",18)(53,"div",19)(54,"div",5)(55,"h6",20),t.nrm(56,"i",23),t.EFF(57),t.nI1(58,"translate"),t.k0s(),t.j41(59,"p",22),t.EFF(60),t.nI1(61,"translate"),t.k0s()()()(),t.j41(62,"div",18)(63,"div",19)(64,"div",5)(65,"h6",20),t.nrm(66,"i",24),t.EFF(67),t.nI1(68,"translate"),t.k0s(),t.j41(69,"p",22),t.EFF(70),t.nI1(71,"translate"),t.k0s()()()()()(),t.nrm(72,"textarea",25),t.nI1(73,"translate"),t.j41(74,"div",26)(75,"div",27)(76,"div",5)(77,"h6",20),t.nrm(78,"i",28),t.EFF(79),t.nI1(80,"translate"),t.k0s(),t.j41(81,"ul",29)(82,"li"),t.EFF(83),t.nI1(84,"translate"),t.k0s(),t.j41(85,"li"),t.EFF(86),t.nI1(87,"translate"),t.k0s(),t.j41(88,"li"),t.EFF(89),t.nI1(90,"translate"),t.k0s(),t.j41(91,"li"),t.EFF(92),t.nI1(93,"translate"),t.k0s(),t.j41(94,"li"),t.EFF(95),t.nI1(96,"translate"),t.k0s()()()()(),t.j41(97,"div",30)(98,"div",14),t.nrm(99,"i",31),t.EFF(100),t.nI1(101,"translate"),t.k0s(),t.j41(102,"div",32),t.EFF(103),t.k0s()()()(),t.j41(104,"div",10)(105,"h5",11),t.EFF(106),t.nI1(107,"translate"),t.k0s(),t.j41(108,"div",11)(109,"label",12),t.EFF(110),t.nI1(111,"translate"),t.k0s(),t.nrm(112,"input",33),t.k0s()(),t.j41(113,"div",34)(114,"button",35),t.bIt("click",function(){return t.eBV(l),t.Njj(e.previousStep())}),t.EFF(115),t.nI1(116,"translate"),t.k0s(),t.DNE(117,S,3,3,"button",36)(118,b,3,4,"button",37),t.k0s()()()()()()()}if(2&r){let l;t.R7$(6),t.JRh(t.bMT(7,39,"CREATE.TITLE")),t.R7$(3),t.xc7("width",e.getProgress()+"%"),t.R7$(2),t.Y8G("formGroup",e.chatbotRoleForm),t.R7$(),t.AVh("d-none",1!==e.currentStep),t.R7$(2),t.JRh(t.bMT(15,41,"CREATE.STEPS.BASIC.TITLE")),t.R7$(4),t.JRh(t.bMT(19,43,"CREATE.STEPS.BASIC.NAME")),t.R7$(4),t.JRh(t.bMT(23,45,"CREATE.STEPS.BASIC.NAME_HELP")),t.R7$(4),t.JRh(t.bMT(27,47,"CREATE.STEPS.BASIC.DESCRIPTION")),t.R7$(4),t.JRh(t.bMT(31,49,"CREATE.STEPS.BASIC.DESCRIPTION_HELP")),t.R7$(2),t.AVh("d-none",2!==e.currentStep),t.R7$(2),t.JRh(t.bMT(35,51,"CREATE.STEPS.PERSONALITY.TITLE")),t.R7$(4),t.JRh(t.bMT(39,53,"CREATE.STEPS.PERSONALITY.INSTRUCTIONS")),t.R7$(9),t.SpI(" ",t.bMT(48,55,"CREATE.STEPS.PERSONALITY.CARDS.IDENTITY.TITLE"),""),t.R7$(3),t.JRh(t.bMT(51,57,"CREATE.STEPS.PERSONALITY.CARDS.IDENTITY.DESC")),t.R7$(7),t.SpI(" ",t.bMT(58,59,"CREATE.STEPS.PERSONALITY.CARDS.PURPOSE.TITLE"),""),t.R7$(3),t.JRh(t.bMT(61,61,"CREATE.STEPS.PERSONALITY.CARDS.PURPOSE.DESC")),t.R7$(7),t.SpI(" ",t.bMT(68,63,"CREATE.STEPS.PERSONALITY.CARDS.STYLE.TITLE"),""),t.R7$(3),t.JRh(t.bMT(71,65,"CREATE.STEPS.PERSONALITY.CARDS.STYLE.DESC")),t.R7$(2),t.Y8G("placeholder",t.bMT(73,67,"CREATE.STEPS.PERSONALITY.PROMPT_EXAMPLE")),t.R7$(7),t.SpI(" ",t.bMT(80,69,"CREATE.STEPS.PERSONALITY.TIPS.TITLE"),""),t.R7$(4),t.JRh(t.bMT(84,71,"CREATE.STEPS.PERSONALITY.TIPS.INTRO")),t.R7$(3),t.JRh(t.bMT(87,73,"CREATE.STEPS.PERSONALITY.TIPS.EXPERTISE")),t.R7$(3),t.JRh(t.bMT(90,75,"CREATE.STEPS.PERSONALITY.TIPS.PURPOSE")),t.R7$(3),t.JRh(t.bMT(93,77,"CREATE.STEPS.PERSONALITY.TIPS.STYLE")),t.R7$(3),t.JRh(t.bMT(96,79,"CREATE.STEPS.PERSONALITY.TIPS.RULES")),t.R7$(5),t.SpI(" ",t.bMT(101,81,"CREATE.STEPS.PERSONALITY.CHAR_REQUIREMENT")," "),t.R7$(3),t.SpI(" ",(null==(l=e.chatbotRoleForm.get("prompt"))||null==l.value?null:l.value.length)||0,"/1000 "),t.R7$(),t.AVh("d-none",3!==e.currentStep),t.R7$(2),t.JRh(t.bMT(107,83,"CREATE.STEPS.FINISHING.TITLE")),t.R7$(4),t.JRh(t.bMT(111,85,"CREATE.STEPS.FINISHING.AVATAR_URL")),t.R7$(4),t.AVh("d-none",1===e.currentStep),t.R7$(),t.SpI(" ",t.bMT(116,87,"COMMON.BACK")," "),t.R7$(2),t.Y8G("ngIf",e.currentStep<3),t.R7$(),t.Y8G("ngIf",3===e.currentStep)}},dependencies:[i.MD,i.bT,n.X1,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,T.h,T.D9],encapsulation:2})}}return o})()}}]);