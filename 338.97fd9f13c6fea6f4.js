"use strict";(self.webpackChunkfront_simple=self.webpackChunkfront_simple||[]).push([[338],{4338:(E,l,o)=>{o.r(l),o.d(l,{default:()=>f});var e=o(4438),d=o(33),v=o(6707),h=o(7865),u=o(7120),_=o(1774),C=o(4412);let f=(()=>{class a{constructor(){this.router=(0,e.WQX)(d.Ix),this.layout=(0,e.WQX)(h.O),this.chatStateService=(0,e.WQX)(u.l),this.conversations=this.chatStateService.getConversations(),this.chatBotRoles=this.chatStateService.getChatBotRoles(),this.activeFilters=new C.t({search:"",roleId:null,sortByRecent:!0}),this.filters=(0,e.vPA)({search:"",roleId:null,sortByRecent:!0}),this.filteredConversations=(0,e.EWP)(()=>{const t=this.filters();let s=[...this.conversations()];if(t.search){const n=t.search.toLowerCase();s=s.filter(r=>r.title.toLowerCase().includes(n)||r.role.name.toLowerCase().includes(n))}return null!==t.roleId&&(s=s.filter(n=>n.role.id===t.roleId)),s.sort((n,r)=>{const i=new Date(n.updatedAt).getTime(),c=new Date(r.updatedAt).getTime();return t.sortByRecent?c-i:i-c}),s})}onFiltersChange(t){this.filters.set(t)}goToConversation(t){t?.role?.id?this.router.navigate([_.S.CHAT,t.role.id,t.id]):console.error("Invalid conversation or role data:",t)}static{this.\u0275fac=function(s){return new(s||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-conversations"]],standalone:!0,features:[e.aNF],decls:2,vars:1,consts:[[3,"conversationSelected","conversations"]],template:function(s,n){1&s&&(e.j41(0,"div")(1,"app-conversations-list",0),e.bIt("conversationSelected",function(i){return n.goToConversation(i)}),e.k0s()()),2&s&&(e.R7$(),e.Y8G("conversations",n.filteredConversations()))},dependencies:[v.Yo]})}}return a})()}}]);