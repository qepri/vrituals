"use strict";(self.webpackChunkfront_simple=self.webpackChunkfront_simple||[]).push([[976],{7976:(E,c,i)=>{i.r(c),i.d(c,{default:()=>f});var l=i(467),t=i(4438),d=i(177),u=i(4843),m=i(6717);let f=(()=>{class r{constructor(e,s){this.filmService=e,this.filmSubmissionService=s,this.submissions=(0,t.vPA)([]),this.films=(0,t.vPA)([]),this.loading=(0,t.vPA)(!0),this.error=(0,t.vPA)(null)}ngOnInit(){var e=this;return(0,l.A)(function*(){yield e.loadSubmissions()})()}loadSubmissions(){var e=this;return(0,l.A)(function*(){e.loading.set(!0),e.error.set(null);try{const s=yield(0,u._)(e.filmService.getAll()),n=[];for(const a of s){const o=yield(0,u._)(e.filmSubmissionService.getByFilm(a.id));n.push(...o)}n.sort((a,o)=>new Date(o.createdAt).getTime()-new Date(a.createdAt).getTime()),e.submissions.set(n),e.films.set(s)}catch(s){console.error("Error loading submissions:",s),e.error.set(s?.error?.message||"Error al cargar las presentaciones. Por favor intenta de nuevo.")}finally{e.loading.set(!1)}})()}getFilmBySubmission(e){return this.films().find(s=>s.id===e.film.id)}getStatusClass(e){switch(e){case"SUBMITTED":case"submitted":return"badge bg-primary";case"IN_CONSIDERATION":case"in_consideration":return"badge bg-info";case"SEMIFINALIST":case"semifinalist":return"badge bg-warning text-dark";case"FINALIST":case"finalist":case"SELECTED":case"selected":return"badge bg-success";case"REJECTED":case"rejected":return"badge bg-danger";default:return"badge bg-secondary"}}getFriendlyStatus(e){switch(e){case"SUBMITTED":case"submitted":return"Enviado";case"IN_CONSIDERATION":case"in_consideration":return"En Consideraci\xf3n";case"SEMIFINALIST":case"semifinalist":return"Semifinalista";case"FINALIST":case"finalist":return"Finalista";case"SELECTED":case"selected":return"Seleccionado";case"REJECTED":case"rejected":return"Rechazado";default:return e}}getSubmissionDate(e){return new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})}static{this.\u0275fac=function(s){return new(s||r)(t.rXU(m._r),t.rXU(m.Cp))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-submissions"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(s,n){1&s&&t.EFF(0,"##Should display the submited films of the user Filmmaker\nfetch the subbmited films by user")},dependencies:[d.MD]})}}return r})()}}]);